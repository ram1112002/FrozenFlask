<h1>BIODATA</h1>
<form id="input-form">
  <label for="user-input">Enter your name:</label>
  <input type="text" id="user-input" name="user_input" required>
  <br>
  <label for="user-email">Enter your email:</label>
  <input type="text" id="user-email" name="user_email" required>
  <br>
  <label for="user-edu">Enter your qualification:</label>
  <input type="text" id="user-edu" name="user_edu" required>
  <br>
  <label for="user-dob">Enter your Date of Birth:</label>
  <input type="text" id="user-dob" name="user_dob" required>
  <br>
  <input type="submit" value="Submit">
</form>
<script>
  const form = document.getElementById('input-form');

  form.addEventListener('submit', async (e) => {
    e.preventDefault();

    const userName = document.getElementById('user_input').value;
    const userEmail = document.getElementById('user_email').value.toLowerCase();
    const userEdu = document.getElementById('user_edu').value;
    const userDob = document.getElementById('user_dob').value;

    const data = {
      name: userName,
      email: userEmail,
      qualification: userEdu,
      date_of_birth: userDob
    };

    try {
      const response = await fetch('https://biodata.fastgen.com/create-user', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json'
        },
        body: JSON.stringify(data)
      });

      if (response.ok) {
        console.log('Data sent successfully');
        window.location.href = `/p/${userName}`;
      } else {
        console.error('Error occurred:', response.status);
      }
    } catch (error) {
      console.error('Error:', error);
    }
  });
</script>